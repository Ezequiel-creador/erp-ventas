<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registrar/Editar Venta</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="font-['Roboto',sans-serif] bg-gradient-to-br from-blue-400 via-blue-200 to-blue-100 min-h-screen flex flex-col">
    <div class="flex-1 flex flex-col justify-center items-center">
        <div id="venta-container" class="w-full max-w-md p-8 bg-gradient-to-br from-white via-[#e0eafc] to-[#cfdef3] shadow-2xl rounded-2xl">
            <h1 class="text-2xl font-bold mb-6 text-center" th:text="${venta.id == null} ? 'Registrar Nueva Venta' : 'Editar Venta'"></h1>
            <form th:action="@{/ventas/guardar}" method="post" th:object="${venta}" class="space-y-4">
                <input type="hidden" th:field="*{id}" />
                <div>
                    <label class="block font-medium mb-1">Fecha</label>
                    <input type="date" th:field="*{fecha}" class="w-full border border-gray-300 rounded p-2 shadow-sm focus:ring-2 focus:ring-blue-200" />
                </div>
                <div>
                    <label class="block font-medium mb-1">Cliente</label>
                    <input type="text" th:field="*{cliente}" class="w-full border border-gray-300 rounded p-2 shadow-sm focus:ring-2 focus:ring-blue-200" />
                </div>
                <div>
                    <label class="block font-medium mb-1">Vendedor</label>
                    <input type="text" th:field="*{vendedor}" class="w-full border border-gray-300 rounded p-2 shadow-sm focus:ring-2 focus:ring-blue-200" />
                </div>
                <div>
                    <label class="block font-medium mb-1">Total</label>
                    <input type="number" step="0.01" th:field="*{total}" class="w-full border border-gray-300 rounded p-2 shadow-sm focus:ring-2 focus:ring-blue-200" />
                </div>
                <div>
                    <label class="block font-medium mb-1">Estado</label>
                    <select th:field="*{estado}" class="w-full border border-gray-300 rounded py-2  shadow-sm focus:ring-2 focus:ring-blue-200">
                        <option th:each="estado : ${estados}" th:value="${estado}" th:text="${estado}">Estado</option>
                    </select>
                </div>
                <div>
                    <label class="block font-medium mb-1">Forma de Pago</label>
                    <select th:field="*{formaPago}" class="w-full border border-gray-300 rounded py-2 shadow-sm focus:ring-2 focus:ring-blue-200">
                        <option th:each="fp : ${formasPago}" th:value="${fp}" th:text="${fp}">FormaPago</option>
                    </select>
                </div>
                <div>
                    <label class="block font-medium mb-1">Tipo de Comprobante</label>
                    <select th:field="*{tipoComprobante}" class="w-full border border-gray-300 rounded py-2 shadow-sm focus:ring-2 focus:ring-blue-200">
                        <option th:each="tc : ${tiposComprobante}" th:value="${tc}" th:text="${tc}">TipoComprobante</option>
                    </select>
                </div>
                <div>
                    <label class="block font-medium mb-1">Observaciones</label>
                    <textarea th:field="*{observaciones}" class="w-full border border-gray-300 rounded px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-200"></textarea>
                </div>
                <div>
                    <label class="block font-medium mb-1">Descripción</label>
                    <input type="text" th:field="*{descripcion}" class="w-full border border-gray-300 rounded px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-200" />
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white rounded py-2 hover:bg-blue-700 font-bold transition-colors shadow-lg">
                    <span th:text="${venta.id == null} ? 'Guardar Venta' : 'Actualizar Venta'"></span>
                </button>
            </form>
        </div>
    </div>
    <footer class="text-center py-5 bg-gray-800 text-white text-sm rounded-b-xl w-full">
        &copy; Derechos reservados - Ezequiel-creador
    </footer>
    <script>
        // Animación de fade-in y escala para el contenedor usando GSAP
        gsap.from("#venta-container", {duration: 1, opacity: 0, y: 40, scale: 0.95, ease: "power2.out"});
    </script>
</body>
</html>